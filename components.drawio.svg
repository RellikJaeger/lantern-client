<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="818px" height="781px" viewBox="-0.5 -0.5 818 781" content="&lt;mxfile&gt;&lt;diagram id=&quot;tb8H2MvZ3lUxXs8tajMu&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;">
    <defs/>
    <g>
        <rect x="77" y="0" width="180" height="90" fill="#ffffff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 45px; margin-left: 167px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                UI
                                <br/>
                                (Flutter)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="167" y="49" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    UI...
                </text>
            </switch>
        </g>
        <path d="M 234 7 L 250 7 L 250 27 L 234 27 L 234 23 L 230 23 L 230 19 L 234 19 L 234 15 L 230 15 L 230 11 L 234 11 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 234 11 L 238 11 L 238 15 L 234 15 M 234 19 L 238 19 L 238 23 L 234 23" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="77" y="340" width="180" height="90" fill="#ffffff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 385px; margin-left: 167px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                Backend
                                <br/>
                                (Kotlin/Java)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="167" y="389" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Backend...
                </text>
            </switch>
        </g>
        <path d="M 234 347 L 250 347 L 250 367 L 234 367 L 234 363 L 230 363 L 230 359 L 234 359 L 234 355 L 230 355 L 230 351 L 234 351 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 234 351 L 238 351 L 238 355 L 234 355 M 234 359 L 238 359 L 238 363 L 234 363" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="637" y="460" width="180" height="90" fill="#ffffff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 505px; margin-left: 727px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                Replica
                                <br/>
                                (gomobile)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="727" y="509" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Replica...
                </text>
            </switch>
        </g>
        <path d="M 794 467 L 810 467 L 810 487 L 794 487 L 794 483 L 790 483 L 790 479 L 794 479 L 794 475 L 790 475 L 790 471 L 794 471 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 794 471 L 798 471 L 798 475 L 794 475 M 794 479 L 798 479 L 798 483 L 794 483" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="37" y="690" width="180" height="90" fill="#ffffff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 735px; margin-left: 127px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                Flashlight
                                <br/>
                                (gomobile)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="127" y="739" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Flashlight...
                </text>
            </switch>
        </g>
        <path d="M 194 697 L 210 697 L 210 717 L 194 717 L 194 713 L 190 713 L 190 709 L 194 709 L 194 705 L 190 705 L 190 701 L 194 701 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 194 701 L 198 701 L 198 705 L 194 705 M 194 709 L 198 709 L 198 713 L 194 713" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 174.92 92.88 L 153.34 333.09" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
        <path d="M 150.38 326.92 L 153.24 334.21 L 157.35 327.55" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 142px; margin-left: 168px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                UI is run *after* Backend has finished initializing.
                                <br style="font-size: 12px"/>
                                This means that app.dart is instigated *after* Backend
                                <br style="font-size: 12px"/>
                                (i.e., Flashlight and Replica) are finalized.
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                UI queries Backend through MethodChannel
                                <br style="font-size: 12px"/>
                                (see SessionModel.kt and an example in language.dart).
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                Backend also talks to UI through SharedPreferences
                                <br style="font-size: 12px"/>
                                (see Settings.java and replica/common.dart)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="168" y="154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    UI is run *after* Backend has finished initializing....
                </text>
            </switch>
        </g>
        <rect x="607" y="190" width="180" height="90" fill="#ffffff" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 235px; margin-left: 697px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                Messaging
                                <br/>
                                (Kotlin)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="697" y="239" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Messaging...
                </text>
            </switch>
        </g>
        <path d="M 764 197 L 780 197 L 780 217 L 764 217 L 764 213 L 760 213 L 760 209 L 764 209 L 764 205 L 760 205 L 760 201 L 764 201 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 764 201 L 768 201 L 768 205 L 764 205 M 764 209 L 768 209 L 768 213 L 764 213" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 257 385 L 604.94 235.88" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
        <path d="M 600.92 241.41 L 605.97 235.44 L 598.16 234.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 287px; margin-left: 432px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                Depends on Messaging for
                                <br style="font-size: 12px"/>
                                handling messaging logic.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="432" y="299" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Depends on Messaging for...
                </text>
            </switch>
        </g>
        <path d="M 174.92 431.98 L 127.41 687.8" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
        <path d="M 125.04 681.38 L 127.2 688.9 L 131.92 682.66" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 517px; margin-left: 151px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                Depends on Flashlight for
                                <br style="font-size: 12px"/>
                                core proxying components.
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                Flashlight is packaged as a .AAR library
                                <br style="font-size: 12px"/>
                                which includes Java bindings and a native library.
                                <br/>
                                <br style="font-size: 12px"/>
                                The Java bindings are how Backend talks to Flashlight.
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                This is done in EmbeddedLantern.java and Settings.java.
                                <br/>
                                The actual Go logic is in ./internalsdk/ directory
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="151" y="529" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Depends on Flashlight for...
                </text>
            </switch>
        </g>
        <path d="M 174.92 430.36 L 724.77 459.88" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/>
        <path d="M 718.71 463.06 L 725.88 459.94 L 719.08 456.07" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 367px; margin-left: 457px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">
                                Depends on Replica for
                                <br style="font-size: 12px"/>
                                running Replica commands.
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                Replica is run as an HTTP server
                                <br style="font-size: 12px"/>
                                (through github.com/getlantern/replica Go package)
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                Both 'Backend' and 'UI' talk to it through HTTP requests.
                                <br style="font-size: 12px"/>
                                <br style="font-size: 12px"/>
                                This is done in Settings.java.
                                <br/>
                                <br/>
                                The actual Go logic is in ./internalsdk/replica.go
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="457" y="379" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Depends on Replica for...
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>